class Solution(object):
    def numberOfBoomerangs(self, points):
        """
        :type points: List[List[int]]
        :rtype: int
        """
        total = 0
        
        for i in range(len(points)):
            distance = {}
            
            for j in range(len(points)):
                if i == j:
                    continue
                
                dx = points[i][0] - points[j][0]
                dy = points[i][1] - points[j][1]
                
                dist = dx * dx + dy * dy
                
                distance[dist] = distance.get(dist, 0) + 1
            
            for count in distance.values():
                total += count * (count - 1)
        
        return total
        
